@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── Fonts (DM Sans + Fraunces, matching web2.html) ─── */
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,400;0,9..144,500;0,9..144,600;1,9..144,400&display=swap');

/* ─── Design tokens (from web2.html T object) ─── */
:root {
  --cream: #FDFBF8;
  --coral-p: #FF6B4A;
  --coral-s: #FF8A6A;
  --coral-soft: #FFB89A;
  --coral-airy: #FFF5F0;
  --coral-cream: #FFFBFA;
  --blue-p: #5C8BFF;
  --blue-s: #7AA3FF;
  --blue-soft: #A8C4FF;
  --blue-airy: #E6F0FF;
  --purple-p: #8F6BF7;
  --purple-s: #9B7DF9;
  --purple-soft: #D4C5FF;
  --purple-airy: #F0ECFF;
  --honey-p: #FFD75A;
  --honey-s: #FFE073;
  --honey-soft: #FFEEB0;
  --honey-airy: #FFFBF0;
  --career-p: #7DD3FC;
  --career-s: #9BDFFD;
  --career-soft: #C0EBFE;
  --career-airy: #EAF8FF;
  --love-p: #FFB8D0;
  --love-s: #FFCBDD;
  --love-soft: #FFE0EB;
  --love-airy: #FFF6F9;
  --wealth-p: #F2D94D;
  --wealth-s: #F7E36B;
  --wealth-soft: #FAEEB0;
  --wealth-airy: #FDF9E6;
  --study-p: #7DDFBD;
  --study-s: #9BE8CF;
  --study-soft: #C0F0E0;
  --study-airy: #E8FBF5;
  --social-p: #B8A4FF;
  --social-s: #CBBAFE;
  --social-soft: #E0D4FF;
  --social-airy: #F4F1FF;
  --text-primary: #1E1E1E;
  --text-secondary: #4B4B4B;
  --text-tertiary: #6F6F6F;
  --text-quaternary: #999999;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

html, body {
  height: 100%;
  width: 100%;
  overflow: hidden;
  background: var(--cream);
  color: var(--text-primary);
  font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
  -webkit-font-smoothing: antialiased;
}

::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.08); border-radius: 4px; }

/* ─── Animations ─── */

@keyframes orbDrift {
  0%,100% { transform: translate(0,0) scale(1); }
  33% { transform: translate(18px,-12px) scale(1.03); }
  66% { transform: translate(-12px,10px) scale(0.97); }
}

@keyframes orbFloat {
  0%,100% { transform: translate(0,0) scale(1); }
  25% { transform: translate(10px,-14px) scale(1.04); }
  50% { transform: translate(-8px,12px) scale(0.96); }
  75% { transform: translate(14px,6px) scale(1.02); }
}

@keyframes blobBreathe {
  0%,100% { transform: scale(1) translateY(0); }
  50% { transform: scale(1.018) translateY(-3px); }
}

@keyframes blobGlow {
  0%,100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(1.12); }
}

@keyframes healingCardGlow {
  0%,100% { filter: brightness(1) drop-shadow(0 0 0 transparent); }
  50% { filter: brightness(1.06) drop-shadow(0 0 10px rgba(255,138,106,0.4)); }
}

@keyframes tarotNameIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes pulse {
  0%,100% { opacity: 1; }
  50% { opacity: 0.3; }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes chipEnter {
  from { opacity: 0; transform: translateY(4px) scale(0.97); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes pulseDot {
  0%,80%,100% { opacity: .3; transform: scale(.8); }
  40% { opacity: 1; transform: scale(1); }
}

.animate-fade-up { animation: fadeUp 0.3s ease-out forwards; }
.animate-slide-up { animation: slideUp 0.3s ease; }
.animate-chip-enter { animation: chipEnter 0.35s cubic-bezier(.22,1,.36,1) forwards; }
.animate-tarot-name { animation: tarotNameIn 0.8s ease; }

.shimmer-block {
  background: linear-gradient(90deg, rgba(0,0,0,0.03) 25%, rgba(0,0,0,0.06) 50%, rgba(0,0,0,0.03) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

.pulse-dot:nth-child(1) { animation: pulseDot 1.4s ease-in-out infinite; }
.pulse-dot:nth-child(2) { animation: pulseDot 1.4s ease-in-out .2s infinite; }
.pulse-dot:nth-child(3) { animation: pulseDot 1.4s ease-in-out .4s infinite; }

/* Hide scrollbar for fortune scroll area */
.fortune-scroll { scrollbar-width: none; -ms-overflow-style: none; }
.fortune-scroll::-webkit-scrollbar { display: none; }

/* ─── CopilotKit overrides (adapted to new palette) ─── */

:root {
  --copilot-kit-primary-color: #FF6B4A;
  --copilot-kit-contrast-color: #ffffff;
  --copilot-kit-background-color: #FDFBF8;
  --copilot-kit-secondary-color: #FFF5F0;
  --copilot-kit-secondary-contrast-color: #1E1E1E;
  --copilot-kit-response-button-background-color: #FFF5F0;
  --copilot-kit-response-button-color: #FF6B4A;
  --copilot-kit-separator-color: rgba(0,0,0,0.04);
  --copilot-kit-muted-color: #999999;
}

.copilotKitHeader { display: none !important; }

.copilotKitMessages {
  padding: 20px 16px !important;
  background: transparent !important;
}

.copilotKitUserMessage {
  background: linear-gradient(135deg, var(--coral-s), var(--coral-p)) !important;
  color: #fff !important;
  border-radius: 18px 18px 4px 18px !important;
  padding: 11px 16px !important;
  font-size: 13.5px !important;
  line-height: 1.75 !important;
  max-width: 82% !important;
  animation: fadeUp 0.25s ease-out;
}

.copilotKitAssistantMessage {
  background: rgba(255,255,255,0.8) !important;
  color: var(--text-secondary) !important;
  border: 1px solid rgba(0,0,0,0.04) !important;
  border-radius: 18px 18px 18px 4px !important;
  padding: 11px 16px !important;
  font-size: 13.5px !important;
  line-height: 1.75 !important;
  max-width: 85% !important;
  animation: fadeUp 0.25s ease-out;
  font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif !important;
}
.copilotKitAssistantMessage p { margin: 0 0 .5em 0; }
.copilotKitAssistantMessage p:last-child { margin-bottom: 0; }

.copilotKitInput {
  border-top: 1px solid rgba(0,0,0,0.03) !important;
  background: transparent !important;
  padding: 10px 16px 16px !important;
}

.copilotKitInput textarea {
  background: rgba(255,255,255,0.5) !important;
  border: 1px solid rgba(0,0,0,0.06) !important;
  border-radius: 14px !important;
  padding: 11px 16px !important;
  font-size: 13.5px !important;
  font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif !important;
  color: var(--text-primary) !important;
  resize: none !important;
  transition: border-color .2s;
}
.copilotKitInput textarea:focus {
  outline: none !important;
  border-color: var(--coral-p) !important;
  box-shadow: 0 0 0 3px rgba(255,107,74,0.08) !important;
}
.copilotKitInput textarea::placeholder { color: var(--text-quaternary) !important; }

.copilotKitInputControls button[type="submit"],
.copilotKitInputControls button {
  background: linear-gradient(135deg, var(--coral-s), var(--coral-p)) !important;
  border-radius: 14px !important;
  transition: opacity .15s !important;
}
.copilotKitInputControls button:hover { opacity: .85 !important; }

.copilotKitTypingIndicator { color: var(--text-quaternary) !important; }

.copilotKitSuggestion {
  background: rgba(255,255,255,0.75) !important;
  border: 1px solid rgba(255,107,74,0.15) !important;
  border-radius: 100px !important;
  color: var(--coral-p) !important;
  font-size: 12px !important;
  transition: all .15s !important;
}
.copilotKitSuggestion:hover {
  border-color: var(--coral-p) !important;
  background: var(--coral-airy) !important;
}

.copilot-chat-inner { flex: 1; display: flex; flex-direction: column; }
